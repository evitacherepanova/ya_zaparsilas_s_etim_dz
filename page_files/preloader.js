(()=>{window.UX_SEO_AGENT={"config":{"basePath":"https://cdn1.tu-tu.ru/ux-static/","apiBaseUrl":"https://api-x.tutu.ru"},"version":"full","metrics":false,"pageType":"etrain_station","screenNumber":0,"selectors":[{"blockName":"header_old","selector":"#header","elementControls":null},{"blockName":"breadcrumbs_old","selector":".breadcrumbs_top > a, .breadcrumbs > a","elementControls":null},{"blockName":"search_form_old","selector":"#searchByStations","elementControls":null},{"blockName":"search_form_from_old","selector":"#searchDepartureStationName","elementControls":null},{"blockName":"search_form_to_old","selector":"#searchArrivalStationName","elementControls":null},{"blockName":"date_input_old","selector":"rm-date_input hasDatepicker","elementControls":null},{"blockName":"search_button_old","selector":".decor_button_button","elementControls":null},{"blockName":"date_filter_old","selector":".b-travel_date_menu a","elementControls":null},{"blockName":"direction_filter_old","selector":".schedule_station_menu_block li","elementControls":null},{"blockName":"train_filter_old","selector":".left_block [class=\"example nowrap\"] a","elementControls":null},{"blockName":"etrain_card_old","selector":"#schedule_table tbody tr","elementControls":null},{"blockName":"seo_block_old","selector":".seo_block","elementControls":null},{"blockName":"footer_old","selector":"#footer","elementControls":null},{"blockName":"breadcrumbs","selector":"[data-ti=\"BreadcrumbsCell\"]","elementControls":null},{"blockName":"search_form_selector","selector":"button[data-ti=\"TabRoute\"], button[data-ti=\"TabStation\"]","elementControls":{"span":["innerText"]}},{"blockName":"search_form_from","selector":".EPPx1u10_aIvDLLq [data-theme=\"light\"]","elementControls":{"input":["value"]}},{"blockName":"hint_from","selector":".EPPx1u10_aIvDLLq button","elementControls":{"div":["innerText"]}},{"blockName":"search_form_to","selector":".or7vw85kT4cjs8lU [data-theme=\"light\"]","elementControls":{"input":["value"]}},{"blockName":"hint_to","selector":".or7vw85kT4cjs8lU button","elementControls":{"div":["innerText"]}},{"blockName":"swap_button","selector":"[data-ti=\"swapButton\"]","elementControls":null},{"blockName":"date_input","selector":".fOdueCT9UShfcp0G [data-theme=\"light\"]","elementControls":null},{"blockName":"hint_date","selector":".fOdueCT9UShfcp0G ~ div button","elementControls":{"div":["innerText"]}},{"blockName":"search_form_station","selector":".pEE4btClnGE9HdSG [data-theme=\"light\"]","elementControls":{"input":["value"]}},{"blockName":"hint_station","selector":".pEE4btClnGE9HdSG button","elementControls":{"div":["innerText"]}},{"blockName":"station_date_input","selector":".Sq2kFBnR_GA4FLpW .uihW4VVnN5ckDiVl [data-theme=\"light\"]","elementControls":{"input":["value"]}},{"blockName":"station_hint_date","selector":".Sq2kFBnR_GA4FLpW .dXlInlineFlex_b6cede50 button","elementControls":{"div":["innerText"]}},{"blockName":"search_button","selector":"[data-ti=\"submit-button\"]","elementControls":null},{"blockName":"station_input","selector":".slotTop_6d3a188b .root_2d2d3158","elementControls":{"input":["value"]}},{"blockName":"suggest","selector":"[data-ti=\"dropdown\"] > [data-ti=\"dropdown-item\"]","elementControls":{"span":["innerText"]}},{"blockName":"calendar","selector":"[data-ti=\"order-panel\"]","elementControls":null},{"blockName":"calendar_button","selector":".APT6hEDOcosERTen .typoCompact500Accent_765b439d","elementControls":null},{"blockName":"small_calendar","selector":".modal_a5029cd2 .panel_439d4901","elementControls":null},{"blockName":"date_filter","selector":"[data-ti=\"DateSelectorChipRow\"] > div","elementControls":{"span":["innerText"]}},{"blockName":"train_filter","selector":"[data-ti=\"TrainTypeSelector\"] > div","elementControls":{"span":["innerText"]}},{"blockName":"direction_filter","selector":"[data-ti=\"DirectionSelectorCell\"], [data-ti=\"DirectionSelectorArrivalsCell\"]","elementControls":{"span":["innerText"]}},{"blockName":"sort_button","selector":"[data-ti=\"SortButton\"]","elementControls":null},{"blockName":"sort_variant","selector":"[data-ti=\"dropdown\"] label","elementControls":{"span":["innerText"]}},{"blockName":"etrain_card","selector":".gBhE1wA30JAwoPLW","elementControls":{}},{"blockName":"banner","selector":".vpE09PexZQK1qsvi","elementControls":null},{"blockName":"header","selector":"[data-ti=\"Header\"] header","elementControls":null},{"blockName":"footer","selector":"footer[aria-label]","elementControls":null}]}})();/*! For license information please see preloader.js.LICENSE.txt */
var ux_seo_event_metrics_agent;(()=>{"use strict";var e,t,n=[(e,t,n)=>{n.d(t,{BU:()=>d,gT:()=>u,tl:()=>m,M6:()=>r,E_:()=>i});var o=n(4);const r=(e,t,n)=>{const{UX_SEO_AGENT:r}=window,i=e.map((e=>({blockName:e.blockName,blockWidth:e.blockWidth,blockHeight:e.blockHeight,blockPositionLeft:e.blockPosition.left,blockPositionTop:e.blockPosition.top,blockIndex:e.blockIndex,blockData:e.blockData}))),l={type:"cast",sessionId:n||(null==r?void 0:r.sessionId),screenId:t||(null==r?void 0:r.screenId),screenSource:location.href,screenWidth:document.body.scrollWidth,screenHeight:document.body.scrollHeight,screenIndex:null==r?void 0:r.screenNumber,blocks:i,pageType:null==r?void 0:r.pageType};return Object.assign(l,{castId:(0,o.v)(JSON.stringify(l))})},i=(e,t)=>{const{UX_SEO_AGENT:n}=window,r={type:"viewport",sessionId:t||(null==n?void 0:n.sessionId),screenId:e||(null==n?void 0:n.screenId),viewportWidth:window.innerWidth,screenIndex:null==n?void 0:n.screenNumber,viewportHeight:window.innerHeight,viewportPositionLeft:window.scrollX,viewportPositionTop:window.scrollY,pageType:null==n?void 0:n.pageType};return r.viewportId=(0,o.v)(JSON.stringify(r)),r},l=(e,t)=>{let n=e;if(n.id)return`#${n.id}`;const o=n.classList?Array.from(n.classList):[];if(o.length){const e=`.${o.join(".")}`;if(1===(e=>{try{return document.querySelectorAll(e).length}catch(e){return 0}})(e))return e}const r=[];for(;n!==t;){const{tagName:e,parentNode:t}=n;let o=e;if(n.previousElementSibling){const e=[n];let t=n.previousElementSibling;for(;t;)e.push(t),t=t.previousElementSibling;o+=`:nth-child(${e.length})`}if(r.unshift(o),!t)break;n=t}return r.unshift(t.id?`${t.tagName}#${t.id}`:t.tagName),r.join(" > ")},s={INPUT:["name","placeholder"],BUTTON:["value","innerText"],IMG:"src",IFRAME:"src",VIDEO:"src",A:"href",LINK:"href",H1:"innerText",H2:"innerText",H3:"innerText",H4:"innerText",H5:"innerText",H6:"innerText",SPAN:"innerText"},c=(e,t)=>{const{tagName:n}=e,o=s[n],r={};if(null!=t){const o=t[n.toLowerCase()];void 0!==o&&o.forEach((t=>{t&&(r[t]=e[t])}))}if(Array.isArray(o))o.forEach((t=>{t&&(r[t]=e[t])}));else{if(!o)return null;r[o]=e[o]}return r},a=(e,t)=>{if("click"!==t)return e;const n=e.closest("a, button, img, iframe, video, input");return null!=n?n:e},d=e=>{const t=(e=>{if(e&&"getBoundingClientRect"in e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,height:t.height,width:t.width}}return{width:null,height:null,left:null,top:null}})(e.elem),{UX_SEO_AGENT:n}=window,r={type:"event",sessionId:null==n?void 0:n.sessionId,screenId:e.screenId||(null==n?void 0:n.screenId),pageType:null==n?void 0:n.pageType,castId:e.castId,screenIndex:null==n?void 0:n.screenNumber,viewportId:e.viewportId,eventType:e.eventName,eventTime:(new Date).toISOString(),blockName:e.blockName,blockIndex:e.blockIndex,elementAbsoluteSelector:e.elem?l(e.elem,document.body):null,elementRelativeSelector:e.elem&&e.parentElem?l(e.elem,e.parentElem):null,elementWidth:t.width,elementHeight:t.height,elementPositionLeft:t.left,elementPositionTop:t.top,elementControls:e.elem?c(a(e.elem,e.eventName),e.blockElementControls):null},i=(0,o.v)(JSON.stringify(r));return r.eventId=i,r.requestId=i,r},u=e=>{const{UX_SEO_AGENT:t}=window,n={type:"metrics",sessionId:null==t?void 0:t.sessionId,pageType:null==t?void 0:t.pageType,castId:e.castId,name:e.name,value:e.value,delta:e.delta,rating:e.rating,metricTime:(new Date).toISOString(),screenId:null==t?void 0:t.screenId,screenIndex:null==t?void 0:t.screenNumber};return n.requestId=(0,o.v)(JSON.stringify(n)),n},m=()=>{const e=new Date,{UX_SEO_AGENT:t}=window,n={type:"screen",httpReferer:document.referrer,sessionId:null==t?void 0:t.sessionId,screenId:null==t?void 0:t.screenId,screenTime:e.toISOString(),screenSource:location.href,pageType:null==t?void 0:t.pageType,screenIndex:null==t?void 0:t.screenNumber,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:e.getTimezoneOffset(),frontData:""===(null==t?void 0:t.sessionId)?document.cookie:""};return n.requestId=(0,o.v)(JSON.stringify(n)),n}},(e,t,n)=>{function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}n.d(t,{Z:()=>i});var r=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=o({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var s in i)i[s]&&(l+="; "+s,!0!==i[s]&&(l+="="+i[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+l}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var i=n[r].split("="),l=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(o[s]=t.read(l,s),e===s)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){r(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const i=r},,,(e,t,n)=>{function o(e,t){let n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n}function r(e){let t=2;for(let n=0;n<e.length;++n)t=o(t^e.charCodeAt(n),387420489);return(t^t>>>9).toString(36)}n.d(t,{v:()=>r})},(e,t,n)=>{n.d(t,{c:()=>r,o:()=>o});const o=()=>{var e;return"full"===(null===(e=window.UX_SEO_AGENT)||void 0===e?void 0:e.version)},r=()=>{var e;return"off"===(null===(e=window.UX_SEO_AGENT)||void 0===e?void 0:e.version)}},(e,t,n)=>{n.d(t,{J:()=>i});var o=n(7);class r{constructor(e){this.elem=e}get blockWidth(){return this.elem.offsetWidth}get blockHeight(){return this.elem.offsetHeight}get blockPosition(){return(e=>{const t=e.getBoundingClientRect(),{pageXOffset:n,pageYOffset:o}=window,{clientTop:r,clientLeft:i}=document.body,l=t.top+o-r,s=t.left+n-i;return{top:Math.round(l),left:Math.round(s)}})(this.elem)}get blockName(){return(0,o.Q)(this.elem).blockName}get blockIndex(){return(0,o.Q)(this.elem).blockIndex}get blockElementControls(){return(0,o.Q)(this.elem).blockElementControls}get blockData(){return this.elem.getAttribute("data-ux-attr")}}const i=(e,t)=>{let n=Array.from(e);for(;n.length;){const e=n.shift();if(!(e instanceof HTMLElement))continue;const{blockName:i}=(0,o.Q)(e);if(i){t(new r(e),e)}const l=e.children.length?Array.from(e.children):[];l.length&&(n=l.concat(n))}return null}},(e,t,n)=>{n.d(t,{Q:()=>o,Z:()=>r});const o=e=>{var t,n;let o=null,r=null,i=null;if(e instanceof Element)if((null===(t=e.dataset)||void 0===t?void 0:t.ux)&&(o=null===(n=e.dataset)||void 0===n?void 0:n.ux),o){const t=document.querySelectorAll(`[data-ux="${e.dataset.ux}"]`);t.length&&1===t.length?r=0:Array.from(t).forEach(((t,n)=>{e.isEqualNode(t)&&(r=n)}))}else{const{UX_SEO_AGENT:{selectors:t}}=window,n=Element.prototype.matches||Element.prototype.webkitMatchesSelector;"function"==typeof n&&t&&Array.isArray(t)&&t.forEach((({blockName:t,selector:l,elementControls:s})=>{if(e instanceof Element&&n.call(e,l)){o=t,i=s;const n=document.querySelectorAll(l);n.length&&1===n.length?r=0:Array.from(n).forEach(((t,n)=>{e.isEqualNode(t)&&(r=n)}))}}))}return{blockName:o,blockIndex:r,blockElementControls:i}},r=e=>{if(!e)return null;const{blockName:t,blockIndex:n,blockElementControls:i}=o(e);if(!t){const t=e.parentNode;return r(t)}return{element:e,blockName:t,blockIndex:n,blockElementControls:i}}},(e,t,n)=>{function o(e,t){return("0000"+e).slice(-t)}function r(e,t){return Math.floor(Math.random()*(t-e+1)+e)}n.d(t,{ZP:()=>i});const i=function(){var e;return""+o(r(0,255).toString(16),2)+(""+o((e=new Date).getDate().toString(),2)+o((e.getMonth()+1).toString(),2)+o(e.getFullYear().toString(),2))+"-"+o(r(0,65535).toString(16),4)+"-"+o((16384|r(0,4095)).toString(16),4)+"-"+o((32768|r(0,16383)).toString(16),4)+"-"+o(r(0,65535).toString(16),4)+o(r(0,65535).toString(16),4)+o(r(0,65535).toString(16),4)}}],o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".0f7f919e095d4c7be1ce.js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ux_seo_event_metrics_agent:",r.l=(n,o,i,l)=>{if(e[n])e[n].push(o);else{var s,c;if(void 0!==i)for(var a=document.getElementsByTagName("script"),d=0;d<a.length;d++){var u=a[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[o];var m=(t,o)=>{s.onerror=s.onload=null,clearTimeout(f);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),c&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={739:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=i);var l=r.p+r.u(t),s=new Error;r.l(l,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",s.name="ChunkLoadError",s.type=i,s.request=l,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[l,s,c]=n,a=0;if(l.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)c(r)}for(t&&t(n);a<l.length;a++)i=l[a],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkux_seo_event_metrics_agent=self.webpackChunkux_seo_event_metrics_agent||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var i={};(()=>{r.r(i);var e=r(8),t=r(1),n=r(6),o=r(0),l=r(5);const{UX_SEO_AGENT:{config:s}}=window;r.p=s.basePath,void 0!==s.nonce&&(r.nc=s.nonce);var c;c=()=>{if(!(0,l.c)()){const r=new Map;(0,n.J)(document.body.children,((e,t)=>{r.set(t,e)}));const i=(0,e.ZP)(),s=t.Z.get("SESSIONID")||"",c=(0,o.M6)(Array.from(r.values()),i,s),a=(0,l.o)()?(0,o.E_)(i,s):null;Object.assign(window.UX_SEO_AGENT||{},{screenId:i,castData:c,viewportData:a,sessionId:s}),window.UX_SEO_AGENT.gtmId&&((e,t,n,o,r)=>{e[o]=e[o]||[],e[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(n)[0],l=t.createElement(n),s=(o="dataLayer")?"&l="+o:"";l.async=!0,l.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(l,i)})(window,document,"script","dataLayer",window.UX_SEO_AGENT.gtmId)}r.e(502).then(r.bind(r,10))},"interactive"===document.readyState||"complete"===document.readyState?c():document.addEventListener("DOMContentLoaded",c)})(),ux_seo_event_metrics_agent=i})();